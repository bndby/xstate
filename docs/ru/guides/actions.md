# –î–µ–π—Å—Ç–≤–∏—è

**–î–µ–π—Å—Ç–≤–∏—è** (_actions_) ‚Äî —ç—Ç–æ [—ç—Ñ—Ñ–µ–∫—Ç](./effects.md) –∑–∞–ø—É—Å—Ç–∏–ª –∏ –∑–∞–±—ã–ª¬ª. –ò—Ö –º–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å —Ç—Ä–µ–º—è —Å–ø–æ—Å–æ–±–∞–º–∏:

- `entry` –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- `exit` –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ

To learn more, read about [actions in our introduction to statecharts](./introduction-to-state-machines-and-statecharts/index.md#actions).

## API

–î–µ–π—Å—Ç–≤–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∞–∫:

```js {10-11,16-19,27-41}
const triggerMachine = createMachine(
  {
    id: 'trigger',
    initial: 'inactive',
    states: {
      inactive: {
        on: {
          TRIGGER: {
            target: 'active',
            // transition actions
            actions: ['activate', 'sendTelemetry']
          }
        }
      },
      active: {
        // entry actions
        entry: ['notifyActive', 'sendTelemetry'],
        // exit actions
        exit: ['notifyInactive', 'sendTelemetry'],
        on: {
          STOP: { target: 'inactive' }
        }
      }
    }
  },
  {
    actions: {
      // action implementations
      activate: (context, event) => {
        console.log('activating...');
      },
      notifyActive: (context, event) => {
        console.log('active!');
      },
      notifyInactive: (context, event) => {
        console.log('inactive!');
      },
      sendTelemetry: (context, event) => {
        console.log('time:', Date.now());
      }
    }
  }
);
```

<details>
  <summary>
    –ö–æ–≥–¥–∞ –º–Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ (transition), –∞ –∫–æ–≥–¥–∞ - –≤—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (action)?
  </summary>

–û–Ω–∏ –æ–∑–Ω–∞—á–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –≤–µ—â–∏:

- –î–µ–π—Å—Ç–≤–∏–µ –≤—Ö–æ–¥–∞ –∏–ª–∏ –≤—ã—Ö–æ–¥–∞ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´–≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ **–ø—Ä–∏ –ª—é–±–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ, –∫–æ—Ç–æ—Ä—ã–π –≤—Ö–æ–¥–∏—Ç –∏–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**¬ª. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—Ö–æ–¥–∞ –∏–ª–∏ –≤—ã—Ö–æ–¥–∞, –∫–æ–≥–¥–∞ —Å–∞–º–æ –¥–µ–π—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —É–∑–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –∞ –Ω–µ –æ—Ç —É–∑–ª–æ–≤ –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∏–ª–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

```js
// ...
{
  idle: {
    on: {
      LOAD: 'loading'
    }
  },
  loading: {
    // this action is executed whenever the 'loading' state is entered
    entry: 'fetchData'
  }
}
// ...
```

- –î–µ–π—Å—Ç–≤–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ–∑–Ω–∞—á–∞–µ—Ç ¬´–≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ **—Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ**¬ª. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞, –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ–±—ã—Ç–∏—è –∏ —É–∑–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.

```js
// ...
{
  idle: {
    on: {
      LOAD: {
        target: 'loading',
        // this action is executed only on this transition
        actions: 'fetchData'
    }
  },
  loading: {
    // ...
  }
}
// ...
```

</details>

::: tip
–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞—Ç—å, —É–∫–∞–∑–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∞:

```js {4}
// ...
TRIGGER: {
  target: 'active',
  actions: (context, event) => { console.log('activating...'); }
}
// ...
```

–†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–≤–æ–π—Å—Ç–≤–µ `actions` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∞ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–æ—á–Ω—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–µ–π—Å—Ç–≤–∏–π.

:::

## –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

–≠–∫–∑–µ–º–ø–ª—è—Ä `State`, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –∏–∑ `machine.transition(...)`, –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `.actions`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–º:

```js {4-9}
const activeState = triggerMachine.transition('inactive', { type: 'TRIGGER' });

console.log(activeState.actions);
// [
//   { type: 'activate', exec: ... },
//   { type: 'sendTelemetry', exec: ... },
//   { type: 'notifyActive', exec: ... },
//   { type: 'sendTelemetry', exec: ... }
// ]
```

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏–º–µ–µ—Ç –¥–≤–∞ —Å–≤–æ–π—Å—Ç–≤–∞ (–∏ –¥—Ä—É–≥–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å):

- `type` ‚Äî —Ç–∏–ø –¥–µ–π—Å—Ç–≤–∏—è
- `exec` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è

–§—É–Ω–∫—Ü–∏—è `exec` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø          | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| ------------ | ------------ | ---------------------------------------- |
| `context`    | TContext     | –¢–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ–º–∞—Ç–∞                |
| `event`      | event object | –°–æ–±—ã—Ç–∏–µ, –≤—ã–∑–≤–∞–≤—à–µ–µ –ø–µ—Ä–µ—Ö–æ–¥               |
| `actionMeta` | meta object  | –û–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –¥–µ–π—Å—Ç–≤–∏–∏ |

–û–±—ä–µ–∫—Ç `actionMeta` –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø           | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
| -------- | ------------- | --------------------------------------------- |
| `action` | action object | –ò—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è                      |
| `state`  | State         | –†–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ |

–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –≤—ã–∑–æ–≤–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `exec` —Å `currentState.context`, `event` –∏ `state`, –≤ –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ—à–µ–ª –∞–≤—Ç–æ–º–∞—Ç. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —á–∏—Ç–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´[–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π](./interpretation.md#executing-actions)¬ª.

## –ü–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π

–ü—Ä–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (—Ç–æ –µ—Å—Ç—å –æ–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞). –û–¥–Ω–∞–∫–æ –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –≤ –º–∞—Å—Å–∏–≤–µ `state.actions`:

1. `exit` ‚Äî –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã—Ö–æ–¥–∞ —É–∑–ª–∞ (–æ–≤) –≤—ã—à–µ–¥—à–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—Ç —É–∑–ª–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–≤–µ—Ä—Ö
2. `actions` ‚Äî –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø–µ—Ä–µ—Ö–æ–¥–µ
3. `entry` ‚Äî –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—Ö–æ–¥–∞ —É–∑–ª–∞ (–æ–≤) –≤–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω–∏–∑

::: warning
–í XState –≤–µ—Ä—Å–∏–∏ 4.x –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è `assign` –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –ª—é–±—ã–º–∏ –¥—Ä—É–≥–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏. –≠—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –≤–µ—Ä—Å–∏–∏ 5, —Ç–∞–∫ –∫–∞–∫ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø–æ –ø–æ—Ä—è–¥–∫—É.
:::

::: danger

–í—Å–µ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –∑–¥–µ—Å—å, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç **–æ–±—ä–µ–∫—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π**; —ç—Ç–æ —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ. –ù–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –¥–µ–π—Å—Ç–≤–∏–π —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ ‚Äî –æ–Ω–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—é—Ç!

```js
// üö´ Do not do this!
entry: () => {
  // üö´ This will do nothing; send() is not an imperative function!
  send({ type: 'SOME_EVENT' });
};

console.log(send({ type: 'SOME_EVENT' }));
// => { type: 'xstate.send', event: { type: 'SOME_EVENT' } }

// ‚úÖ Do this instead
entry: send({ type: 'SOME_EVENT' });
```

:::

## –î–µ–π—Å—Ç–≤–∏–µ send()

–°–æ–∑–¥–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—è `send(action)` —Å–æ–∑–¥–∞–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è `send`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ–±—â–∞–µ—Ç —Å–ª—É–∂–±–µ (—Ç. –µ. [–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ–º—É –∞–≤—Ç–æ–º–∞—Ç—É](./interpretation.md)) –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ —Å–∞–º–æ–º—É —Å–µ–±–µ. –û–Ω —Å—Ç–∞–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç–∞—é—â–µ–π —Å–ª—É–∂–±—ã –≤–æ –≤–Ω–µ—à–Ω–µ–π –æ—á–µ—Ä–µ–¥–∏ —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º ¬´—à–∞–≥–µ¬ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞.

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –¢–∏–ø                                    | –û–ø–∏—Å–∞–Ω–∏–µ                                                 |
| ---------- | -------------------------------------- | -------------------------------------------------------- |
| `event`    | string, event object, event expression | –°–æ–±—ã—Ç–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–µ `options.to` (–∏–ª–∏ —Å–µ–±–µ) |
| `options?` | send options                           | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏—è                               |

–ü–∞—Ä–∞–º–µ—Ç—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ `options` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:

| –°–≤–æ–π—Å—Ç–≤–æ | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                          |
| -------- | ------ | ------------------------------------------------------------------------------------------------- |
| `id?`    | string | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–º–µ–Ω—ã)                                                  |
| `to?`    | string | –¶–µ–ª—å —Å–æ–±—ã—Ç–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `self`)                                                                |
| `delay?` | number | –¢–∞–π–º-–∞—É—Ç (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–±—ã—Ç–∏—è, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –æ—Ç–º–µ–Ω–µ–Ω–æ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Ç–∞–π–º-–∞—É—Ç–∞. |

::: warning
–§—É–Ω–∫—Ü–∏—è `send(...)` —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –¥–µ–π—Å—Ç–≤–∏—è; —ç—Ç–æ —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ.
:::

```js
import { createMachine, send } from 'xstate';

const lazyStubbornMachine = createMachine({
  id: 'stubborn',
  initial: 'inactive',
  states: {
    inactive: {
      on: {
        TOGGLE: {
          target: 'active',
          // send the TOGGLE event again to the service
          actions: send('TOGGLE')
        }
      }
    },
    active: {
      on: {
        TOGGLE: { target: 'inactive' }
      }
    }
  }
});

const nextState = lazyStubbornMachine.transition('inactive', {
  type: 'TOGGLE'
});

nextState.value;
// => 'active'
nextState.actions;
// => [{ type: 'xstate.send', event: { type: 'TOGGLE' }}]

// The service will proceed to send itself the { type: 'TOGGLE' } event.
```

–ê—Ä–≥—É–º–µ–Ω—Ç —Å–æ–±—ã—Ç–∏—è `event`, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –≤ `send(event)`, –º–æ–∂–µ—Ç –±—ã—Ç—å:

- –°—Ç—Ä–æ–∫–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `send('TOGGLE')`
- –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `send({type: 'TOGGLE', payload: ...})`
- –í—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç `context` –∏ —Å–æ–±—ã—Ç–∏–µ `event`, –≤—ã–∑–≤–∞–≤—à–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ `send()`, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è:

```js
import { send } from 'xstate';

// contrived example - reads from the `context` and sends
// the dynamically created event
const sendName = send((context, event) => ({
  type: 'NAME',
  name: context.user.name
}));

const machine = createMachine({
  // ...
  on: {
    TOGGLE: {
      actions: sendName
    }
  }
  //...
});
```

### –¶–µ–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

–°–æ–±—ã—Ç–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –¥–µ–π—Å—Ç–≤–∏—è `send(...)`, –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —Ü–µ–ª—è–º, —Ç–∞–∫–∏–º –∫–∞–∫ [–≤—ã–∑–≤–∞–Ω–Ω—ã–µ —Å–ª—É–∂–±—ã](./communication.md) –∏–ª–∏ [–ø–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ –∞–∫—Ç–æ—Ä—ã](./actors.md). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—É—Ç–µ–º —É–∫–∞–∑–∞–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ `{to: ...}` –≤ –¥–µ–π—Å—Ç–≤–∏–∏ `send (...)`:

```js
// ...
invoke: {
  id: 'some-service-id',
  src: 'someService',
  // ...
},
// ...
// Indicates to send { type: 'SOME_EVENT' } to the invoked service
actions: send({ type: 'SOME_EVENT' }, { to: 'some-service-id' })
```

–¶–µ–ª—å –≤ —Å–≤–æ–π—Å—Ç–≤–µ `to` —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å **—Ü–µ–ª–µ–≤—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º** (_target expression_), –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç `context` –∏ —Å–æ–±—ã—Ç–∏–µ `event`, –≤—ã–∑–≤–∞–≤—à–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ª–∏–±–æ —Å—Ç—Ä–æ–∫–æ–≤—É—é —Ü–µ–ª—å, –ª–∏–±–æ [—Å—Å—ã–ª–∫—É –Ω–∞ –∞–∫—Ç–æ—Ä–∞](./actors.md#spawning-actors):

```js
entry: assign({
  someActor: () => {
    return spawn(someMachine, 'some-actor-name');
  }
}),
  // ...

  // Send { type: 'SOME_EVENT' } to the actor ref
  {
    actions: send(
      { type: 'SOME_EVENT' },
      {
        to: (context) => context.someActor
      }
    )
  };
```

::: warning
–û–ø—è—Ç—å –∂–µ, —Ñ—É–Ω–∫—Ü–∏—è `send(...)` —è–≤–ª—è–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–º –¥–µ–π—Å—Ç–≤–∏—è –∏ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫—É–¥–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ:

```js
console.log(send({ type: 'SOME_EVENT' }, { to: 'child' }));
// logs:
// {
//   type: 'xstate.send',
//   to: 'child',
//   event: {
//     type: 'SOME_EVENT'
//   }
// }
```

:::

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ —Å –¥–æ—á–µ—Ä–Ω–µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sendParent(event)` (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ –∂–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, —á—Ç–æ –∏ `send(...)`).

## –î–µ–π—Å—Ç–≤–∏–µ raise()

–°–æ–∑–¥–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—è `raise()` —Å—Ç–∞–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å –Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º—É —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ—á–µ—Ä–µ–¥–∏ —Å–æ–±—ã—Ç–∏–π. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º ¬´—à–∞–≥–µ¬ª –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø                  | –û–ø–∏—Å–∞–Ω–∏–µ                        |
| -------- | -------------------- | ------------------------------- |
| `event`  | string, event object | –°–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å. |

```js
import { createMachine, actions } from 'xstate';
const { raise } = actions;

const raiseActionDemo = createMachine({
  id: 'raisedmo',
  initial: 'entry',
  states: {
    entry: {
      on: {
        STEP: {
          target: 'middle'
        },
        RAISE: {
          target: 'middle',
          // immediately invoke the NEXT event for 'middle'
          actions: raise('NEXT')
        }
      }
    },
    middle: {
      on: {
        NEXT: { target: 'last' }
      }
    },
    last: {
      on: {
        RESET: { target: 'entry' }
      }
    }
  }
});
```

–ö–ª–∏–∫–Ω–∏—Ç–µ –æ–±–∞ —Å–æ–±—ã—Ç–∏—è `STEP` –∏ `RAISE` –≤ [–≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–µ](https://stately.ai/viz?gist=fd763ff2c161b172f719891e2544d428), —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞–∑–Ω–∏—Ü—É.

## –î–µ–π—Å—Ç–≤–∏–µ `respond()` <Badge text="4.7+" />

`respond()` —Å–æ–∑–¥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ [`send()`](#send-action), –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å–ª—É–∂–±—É, –æ—Ç–ø—Ä–∞–≤–∏–≤—à—É—é —Å–æ–±—ã—Ç–∏–µ.

–ü—Ä–∏ —ç—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è SCXML, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å `origin` –∏–∑ —Å–æ–±—ã—Ç–∏—è –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `to` –¥–ª—è –¥–µ–π—Å—Ç–≤–∏—è `send()`.

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –¢–∏–ø                                   | –û–ø–∏—Å–∞–Ω–∏–µ                                             |
| ---------- | ------------------------------------- | ---------------------------------------------------- |
| `event`    | string, event object, send expression | –°–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é |
| `options?` | send options object                   | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Å–æ–±—ã—Ç–∏–µ `send()`            |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è `respond()`

–ü—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è —Å–ª—É–∂–±–∞ (`authClientMachine`) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ `'CODE'` –≤ –≤—ã–∑—ã–≤–∞–µ–º—É—é `authServerMachine`, –∞ `authServerMachine` –æ—Ç–≤–µ—á–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ–º `'TOKEN'`.

```js
const authServerMachine = createMachine({
  initial: 'waitingForCode',
  states: {
    waitingForCode: {
      on: {
        CODE: {
          actions: respond({ type: 'TOKEN' }, { delay: 10 })
        }
      }
    }
  }
});

const authClientMachine = createMachine({
  initial: 'idle',
  states: {
    idle: {
      on: {
        AUTH: { target: 'authorizing' }
      }
    },
    authorizing: {
      invoke: {
        id: 'auth-server',
        src: authServerMachine
      },
      entry: send('CODE', { to: 'auth-server' }),
      on: {
        TOKEN: { target: 'authorized' }
      }
    },
    authorized: {
      type: 'final'
    }
  }
});
```

–°–º. [üìñ –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤](./actors.md#sending-responses) –¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

## –î–µ–π—Å—Ç–≤–∏–µ `forwardTo()` <Badge text="4.7+" />

`forwardTo()` —Å–æ–∑–¥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ [`send()`](#send-action), –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç —Å–∞–º–æ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å–ª—É–∂–±–µ —á–µ—Ä–µ–∑ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø                                     | –û–ø–∏—Å–∞–Ω–∏–µ                                                           |
| -------- | --------------------------------------- | ------------------------------------------------------------------ |
| `target` | string or function that returns service | –¶–µ–ª–µ–≤–∞—è —Å–ª—É–∂–±–∞, –≤ –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∞–º–æ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ. |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è `forwardTo()`

```js
import { createMachine, forwardTo, interpret } from 'xstate';

function alertService(_, receive) {
  receive((event) => {
    if (event.type === 'ALERT') {
      alert(event.message);
    }
  });
}

const parentMachine = createMachine({
  id: 'parent',
  invoke: {
    id: 'alerter',
    src: () => alertService
  },
  on: {
    ALERT: { actions: forwardTo('alerter') }
  }
});

const parentService = interpret(parentMachine).start();

parentService.send({ type: 'ALERT', message: 'hello world' });
// => alerts "hello world"
```

## –î–µ–π—Å—Ç–≤–∏–µ escalate() <Badge text="4.7+" />

`escalate()` —ç—Å–∫–∞–ª–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É, –æ—Ç–ø—Ä–∞–≤–ª—è—è –µ–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∞–≤—Ç–æ–º–∞—Ç. –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–æ–º.

| –ü–∞—Ä–∞–º–µ—Ç—Ä    | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ                                                         |
| ----------- | --- | ---------------------------------------------------------------- |
| `errorData` | any | –î–∞–Ω–Ω—ã–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ (–æ—Ç–ø—Ä–∞–≤–∫–∏) —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∞–≤—Ç–æ–º–∞—Ç—É. |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è `escalate()`

```js
import { createMachine, actions } from 'xstate';
const { escalate } = actions;

const childMachine = createMachine({
  // ...
  // This will be sent to the parent machine that invokes this child
  entry: escalate({ message: 'This is some error' })
});

const parentMachine = createMachine({
  // ...
  invoke: {
    src: childMachine,
    onError: {
      actions: (context, event) => {
        console.log(event.data);
        //  {
        //    type: ...,
        //    data: {
        //      message: 'This is some error'
        //    }
        //  }
      }
    }
  }
});
```

## –î–µ–π—Å—Ç–≤–∏–µ log()

–°–æ–∑–¥–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—è `log()` ‚Äî —ç—Ç–æ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—Å–µ–≥–æ, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–∫—É—â–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è `context` –∏ / –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ–º `event`. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                          |
| -------- | -------------------- | ----------------------------------------------------------------------------------------------------------------- |
| `expr?`  | string<br />function | –°—Ç—Ä–æ–∫–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç `context` –∏ —Å–æ–±—ã—Ç–∏–µ `event` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. |
| `label?` | string               | –ú–µ—Ç–∫–∞ –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è message                                                           |

```js {9,14-17,28-34}
import { createMachine, actions } from 'xstate';
const { log } = actions;

const loggingMachine = createMachine({
  id: 'logging',
  context: { count: 42 },
  initial: 'start',
  states: {
    start: {
      entry: log('started!'),
      on: {
        FINISH: {
          target: 'end',
          actions: log(
            (context, event) => `count: ${context.count}, event: ${event.type}`,
            'Finish label'
          )
        }
      }
    },
    end: {}
  }
});

const endState = loggingMachine.transition('start', 'FINISH');

endState.actions;
// [
//   {
//     type: 'xstate.log',
//     label: 'Finish label',
//     expr: (context, event) => ...
//   }
// ]

// The interpreter would log the action's evaluated expression
// based on the current state context and event.
```

–ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `log()` ‚Äî —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ `context` –∏ `event`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ.

## –î–µ–π—Å—Ç–≤–∏–µ choose()

`choose()` —Å–æ–∑–¥–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π.

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                       |
| -------- | ----- | -------------------------------------------------------------------------------------------------------------- |
| `conds`  | array | –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –¥–µ–π—Å—Ç–≤–∏—è `actions`, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å, –∫–æ–≥–¥–∞ –∑–∞–¥–∞–Ω–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ `cond` –∏—Å—Ç–∏–Ω–Ω–æ |

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è `"xstate.choose"`, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç ¬´—É—Å–ª–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π¬ª –≤ `cond` –∏–º–µ–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:

- `actions` ‚Äî –æ–±—ä–µ–∫—Ç—ã –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `cond?` ‚Äî —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π `actions`

::: warning
–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `choose()` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤ –∏–Ω–∞—á–µ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫ –±–µ–∑—É—Å–ª–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –≤ `entry`, `exit` –∏–ª–∏ `actions`.
:::

```js
import { actions } from 'xstate';

const { choose, log } = actions;

const maybeDoThese = choose([
  {
    cond: 'cond1',
    actions: [
      // selected when "cond1" is true
      log('cond1 chosen!')
    ]
  },
  {
    cond: 'cond2',
    actions: [
      // selected when "cond1" is false and "cond2" is true
      log((context, event) => {
        /* ... */
      }),
      log('another action')
    ]
  },
  {
    cond: (context, event) => {
      // some condition
      return false;
    },
    actions: [
      // selected when "cond1" and "cond2" are false and the inline `cond` is true
      (context, event) => {
        // some other action
      }
    ]
  },
  {
    actions: [
      log('fall-through action')
      // selected when "cond1", "cond2", and "cond3" are false
    ]
  }
]);
```

–≠—Ç–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º SCXML `<if>`, `<elseif>` –∏ `<else>`: [www.w3.org/TR/scxml/#if](https://www.w3.org/TR/scxml/#if)

## –î–µ–π—Å—Ç–≤–∏–µ pure()

–°–æ–∑–¥–∞—Ç–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—è `pure()` ‚Äî —ç—Ç–æ —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–æ—Ç—Å—é–¥–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ), –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç(—ã) –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ `context` —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏—è `event`, –≤—ã–∑–≤–∞–≤—à–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å.

| –ü–∞—Ä–∞–º–µ—Ç—Ä     | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                              |
| ------------ | -------- | ----------------------------------------------------------------------------------------------------- |
| `getActions` | function | –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç(—ã) –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ `context` –∏ `event` |

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è ¬´`xstate.pure`¬ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `get` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `getActions(context, event)`:

| –ü–∞—Ä–∞–º–µ—Ç—Ä  | –¢–∏–ø          | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
| --------- | ------------ | ---------------------------------------- |
| `context` | object       | –¢–µ–∫—É—â–∏–π `context` —Å–æ—Å—Ç–æ—è–Ω–∏—è              |
| `event`   | event object | –û–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–≤—à–∏–π –¥–µ–π—Å—Ç–≤–∏—è. |

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

–û–±—ä–µ–∫—Ç –¥–µ–π—Å—Ç–≤–∏—è, –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ `undefined`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Ç.

```js
import { createMachine, actions } from 'xstate';

const { pure } = actions;

// Dynamically send an event to every invoked sample actor
const sendToAllSampleActors = pure((context, event) => {
  return context.sampleActors.map((sampleActor) => {
    return send('SOME_EVENT', { to: sampleActor });
  });
});
// => {
//   type: ActionTypes.Pure,
//   get: () => ... // evaluates to array of send() actions
// }

const machine = createMachine({
  // ...
  states: {
    active: {
      entry: sendToAllSampleActors
    }
  }
});
```

## –î–µ–π—Å—Ç–≤–∏—è –≤ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –±–µ–∑ —Å–º–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è

[–ü–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ —Å–º–µ–Ω—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è](./transitions.md#self-transitions) (_self-transition_) ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–∞–º–æ —Å–µ–±—è, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω–æ _–º–æ–∂–µ—Ç_ –≤—ã–π—Ç–∏, –∞ –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤–æ–π—Ç–∏ –≤ —Å–µ–±—è. –¢–∞–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏** –∏–ª–∏ **–≤–Ω–µ—à–Ω–∏–º–∏**:

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–µ—Ä–µ—Ö–æ–¥ _–Ω–µ –±—É–¥–µ—Ç_ –∑–∞–≤–µ—Ä—à–µ–Ω –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞—á–∞—Ç, –ø–æ—ç—Ç–æ–º—É –¥–µ–π—Å—Ç–≤–∏—è –≤—Ö–æ–¥–∞ `entry` –∏ –≤—ã—Ö–æ–¥–∞ `exit` —É–∑–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ.

- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è `{internal: true}` –∏–ª–∏ `target` –∫–∞–∫ `undefined`.
- –î–µ–π—Å—Ç–≤–∏—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `actions` –ø–µ—Ä–µ—Ö–æ–¥–∞, –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

–í–Ω–µ—à–Ω–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–æ–π–¥–µ—Ç –≤ —Å–µ–±—è, –ø–æ—ç—Ç–æ–º—É –¥–µ–π—Å—Ç–≤–∏—è –≤—Ö–æ–¥–∞ `entry` –∏ –≤—ã—Ö–æ–¥–∞ `exit` —É–∑–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å–Ω–æ–≤–∞.

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –≤–Ω–µ—à–Ω–∏–µ. –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –ø–µ—Ä–µ—Ö–æ–¥ —è–≤–Ω–æ, —É–∫–∞–∂–∏—Ç–µ `{internal: false}`.
- –î–µ–π—Å—Ç–≤–∏—è, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Å–≤–æ–π—Å—Ç–≤–µ `actions` –ø–µ—Ä–µ—Ö–æ–¥–∞, –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω—ã.

–ù–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–∞ —Å—á–µ—Ç–Ω–∞—è –º–∞—à–∏–Ω–∞ –∏–º–µ–µ—Ç –æ–¥–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `'counting'` —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –∏ –≤–Ω–µ—à–Ω–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏:

```js {9-12}
const counterMachine = createMachine({
  id: 'counter',
  initial: 'counting',
  states: {
    counting: {
      entry: 'enterCounting',
      exit: 'exitCounting',
      on: {
        // self-transitions
        INC: { actions: 'increment' }, // internal (implicit)
        DEC: { target: 'counting', actions: 'decrement' }, // external
        DO_NOTHING: { internal: true, actions: 'logNothing' } // internal (explicit)
      }
    }
  }
});

// External transition (exit + transition actions + entry)
const stateA = counterMachine.transition('counting', { type: 'DEC' });
stateA.actions;
// ['exitCounting', 'decrement', 'enterCounting']

// Internal transition (transition actions)
const stateB = counterMachine.transition('counting', { type: 'DO_NOTHING' });
stateB.actions;
// ['logNothing']

const stateC = counterMachine.transition('counting', { type: 'INC' });
stateB.actions;
// ['increment']
```
